# Feature Specification: Kanban Board Application

**Feature Branch**: `001-kanban-board`
**Created**: 2026-02-20
**Status**: Draft
**Input**: User description: "我想要一個 kanban 的 application 像 jira kanban"

## Clarifications

### Session 2026-02-20

- Q: 刪除操作是否需要確認對話框？ → A: 刪除看板和欄位需要確認對話框，刪除單張卡片不需要確認
- Q: 看板數量是否有上限？ → A: 無硬性上限，使用側邊欄列表顯示所有看板
- Q: 首次啟動體驗為何？ → A: 自動建立一個範例看板，含預設欄位和幾張示範卡片

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 建立與管理看板 (Priority: P1)

使用者可以建立新的 Kanban 看板來組織他們的工作項目。每個看板代表一個專案或工作流程，使用者可以命名看板並隨時修改設定。

**Why this priority**: 看板是整個應用的基礎，沒有看板就無法進行任何其他操作。這是使用者進入應用後的第一個動作。

**Independent Test**: 可以透過建立一個新看板、命名它、並驗證它出現在看板列表中來獨立測試。

**Acceptance Scenarios**:

1. **Given** 使用者在主畫面, **When** 使用者點擊「新增看板」按鈕並輸入名稱, **Then** 新看板被建立並顯示在看板列表中
2. **Given** 使用者有一個現有看板, **When** 使用者修改看板名稱, **Then** 看板名稱被更新且變更立即可見
3. **Given** 使用者有一個現有看板, **When** 使用者刪除看板, **Then** 系統顯示確認對話框，確認後看板從列表中移除且相關的所有卡片一併刪除

---

### User Story 2 - 管理欄位狀態 (Priority: P1)

使用者可以在看板上建立、編輯和刪除欄位（代表工作狀態）。預設欄位包括「待辦」、「進行中」、「完成」，但使用者可以自訂欄位數量和名稱。

**Why this priority**: 欄位是 Kanban 的核心視覺元素，定義了工作流程的各個階段。沒有欄位，卡片就沒有地方放置。

**Independent Test**: 可以透過建立新欄位、重新命名欄位、調整欄位順序來獨立測試。

**Acceptance Scenarios**:

1. **Given** 使用者在一個看板中, **When** 使用者建立新欄位並命名, **Then** 新欄位出現在看板上指定位置
2. **Given** 看板有多個欄位, **When** 使用者拖曳欄位到新位置, **Then** 欄位順序被重新排列
3. **Given** 欄位有卡片, **When** 使用者刪除該欄位, **Then** 系統提示使用者選擇將卡片移至哪個欄位或一併刪除

---

### User Story 3 - 建立與管理卡片 (Priority: P1)

使用者可以在任何欄位中建立卡片來代表工作項目。每張卡片包含標題、描述，使用者可以編輯或刪除卡片。

**Why this priority**: 卡片是使用者追蹤實際工作的載體，是 Kanban 系統中最常互動的元素。

**Independent Test**: 可以透過在欄位中建立新卡片、編輯卡片內容、刪除卡片來獨立測試。

**Acceptance Scenarios**:

1. **Given** 使用者在一個欄位中, **When** 使用者建立新卡片並輸入標題, **Then** 卡片出現在該欄位底部
2. **Given** 使用者有一張卡片, **When** 使用者點擊卡片並編輯描述, **Then** 卡片描述被更新並儲存
3. **Given** 使用者有一張卡片, **When** 使用者刪除卡片, **Then** 卡片立即從欄位中移除（無需確認）

---

### User Story 4 - 拖放卡片更新狀態 (Priority: P1)

使用者可以透過拖放卡片從一個欄位移動到另一個欄位，這代表工作項目狀態的變更。卡片也可以在同一欄位內重新排序。

**Why this priority**: 拖放是 Kanban 的核心互動模式，讓使用者能直覺地管理工作流程。這是 Kanban 與一般待辦清單的關鍵差異。

**Independent Test**: 可以透過拖曳卡片到不同欄位、在同一欄位內重新排序來獨立測試。

**Acceptance Scenarios**:

1. **Given** 卡片在「待辦」欄位, **When** 使用者將卡片拖放到「進行中」欄位, **Then** 卡片移動到新欄位且狀態更新
2. **Given** 欄位有多張卡片, **When** 使用者拖曳卡片到不同位置, **Then** 卡片順序被重新排列
3. **Given** 使用者正在拖曳卡片, **When** 使用者將卡片懸停在目標位置, **Then** 顯示視覺提示表明放置位置

---

### User Story 5 - 資料持久化 (Priority: P2)

使用者的所有看板、欄位和卡片資料會被自動儲存，關閉應用程式後重新開啟時資料依然存在。

**Why this priority**: 資料持久化確保使用者不會遺失工作成果，是應用可靠性的基礎，但比基本的 CRUD 操作優先級稍低。

**Independent Test**: 可以透過建立資料、關閉應用、重新開啟並驗證資料仍然存在來獨立測試。

**Acceptance Scenarios**:

1. **Given** 使用者建立了看板和卡片, **When** 使用者關閉並重新開啟應用程式, **Then** 所有資料完整保留
2. **Given** 使用者修改了卡片內容, **When** 變更發生時, **Then** 資料自動儲存無需手動操作

---

### User Story 6 - 卡片詳細資訊 (Priority: P2)

使用者可以為卡片添加更豐富的資訊，包括優先級標籤和到期日，幫助更好地組織和追蹤工作。

**Why this priority**: 這些功能增強了卡片的實用性，但不是核心 Kanban 功能，可以在基本功能完成後添加。

**Independent Test**: 可以透過設定卡片優先級、設定到期日、查看卡片詳情來獨立測試。

**Acceptance Scenarios**:

1. **Given** 使用者有一張卡片, **When** 使用者設定優先級為「高」, **Then** 卡片顯示對應的優先級標籤顏色
2. **Given** 使用者有一張卡片, **When** 使用者設定到期日, **Then** 卡片顯示到期日且接近到期時有視覺提醒
3. **Given** 使用者有一張卡片, **When** 使用者點擊卡片開啟詳情, **Then** 顯示包含所有卡片屬性的詳情面板

---

### User Story 7 - 搜尋與篩選 (Priority: P3)

使用者可以搜尋卡片或根據條件篩選顯示的卡片，快速找到特定的工作項目。

**Why this priority**: 當卡片數量增加時，搜尋和篩選變得重要，但對於初期使用不是必需的。

**Independent Test**: 可以透過搜尋關鍵字、篩選特定優先級或標籤來獨立測試。

**Acceptance Scenarios**:

1. **Given** 看板有多張卡片, **When** 使用者輸入搜尋關鍵字, **Then** 只顯示標題或描述包含關鍵字的卡片
2. **Given** 看板有不同優先級的卡片, **When** 使用者篩選「高優先級」, **Then** 只顯示高優先級的卡片

---

### Edge Cases

- 當使用者首次啟動應用時，系統自動建立一個範例看板（含預設三欄位和幾張示範卡片），讓使用者立即體驗核心功能
- 當使用者嘗試建立名稱為空的看板時，系統顯示錯誤訊息要求輸入名稱
- 當使用者嘗試刪除最後一個欄位時，系統提示至少需要保留一個欄位
- 當卡片標題超過顯示範圍時，標題被截斷並以省略號顯示，完整標題在懸停時顯示
- 當拖放操作被意外中斷時，卡片返回原始位置

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: 系統 MUST 允許使用者建立、編輯、刪除看板（刪除看板和欄位需確認對話框；刪除單張卡片不需確認）
- **FR-002**: 系統 MUST 支援每個看板有多個欄位（預設：待辦、進行中、完成）
- **FR-003**: 系統 MUST 允許使用者自訂欄位名稱和順序
- **FR-004**: 系統 MUST 允許使用者在任何欄位建立、編輯、刪除卡片
- **FR-005**: 系統 MUST 支援透過拖放移動卡片到不同欄位或重新排序
- **FR-006**: 系統 MUST 在拖放時提供視覺回饋（如放置區域高亮）
- **FR-007**: 系統 MUST 自動儲存所有變更，無需使用者手動儲存
- **FR-008**: 系統 MUST 在應用程式重啟後保留所有資料
- **FR-014**: 系統 MUST 在首次啟動時自動建立一個範例看板，包含預設欄位和示範卡片
- **FR-009**: 系統 MUST 支援卡片包含標題（必填）和描述（選填）
- **FR-010**: 系統 MUST 支援為卡片設定優先級（低、中、高）
- **FR-011**: 系統 MUST 支援為卡片設定到期日
- **FR-012**: 系統 MUST 支援按關鍵字搜尋卡片
- **FR-013**: 系統 MUST 支援按優先級篩選卡片

### Key Entities

- **Board（看板）**: 代表一個專案或工作流程的容器，包含名稱和多個欄位。無數量上限，透過側邊欄列表導航
- **Column（欄位）**: 代表工作狀態階段，有名稱和在看板中的順序位置，屬於一個看板
- **Card（卡片）**: 代表一個工作項目，包含標題、描述、優先級、到期日、在欄位中的順序位置，屬於一個欄位

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 使用者可以在 30 秒內建立一個新看板並添加第一張卡片
- **SC-002**: 卡片拖放操作在使用者釋放滑鼠後 500 毫秒內完成視覺更新
- **SC-003**: 應用程式啟動後 3 秒內顯示上次的看板狀態
- **SC-004**: 使用者可以在一個看板上管理至少 100 張卡片而不影響拖放流暢度
- **SC-005**: 90% 的使用者可以在無教學的情況下成功完成建立卡片和拖放移動操作
- **SC-006**: 搜尋結果在輸入關鍵字後 500 毫秒內顯示

## Assumptions

- 這是單機桌面應用程式，不需要多人協作功能
- 資料儲存在本機，不需要雲端同步
- 一次只會有一個使用者操作應用程式
- 使用者使用滑鼠或觸控板進行拖放操作
